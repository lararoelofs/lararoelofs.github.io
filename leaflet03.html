<!DOCTYPE html>
<html>
    <head>
        <title>New Hampshire Rivers</title>
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <style>
            #map {height: 400px; width: 700px; }
            html, body {height: 100%; margin: 0; padding: 0;}
            #button {padding: 10px; background: #f3d1c9; }
        </style>

<script src="NH_Designated_Rivers_24K.geojson"></script>


        
        <script>
          var riverLayer; 
            var riverVisible = false; 
            
            var OpenStreetMap_HOT = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png',
            { maxZoom: 19, 
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, Tiles courtesy of <a href = "http://hot.osm.org"> HOT OSM</a>'
                     })
            
           var MapTilesAPI_OSMEnglish = new L.tileLayer('https://maptiles.p.rapidapi.com/en/map/v1/{z}/{x}/{y}.png?rapidapi-key={apikey}', {
	attribution: '&copy; <a href="http://www.maptilesapi.com/">MapTiles API</a>, &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
	apikey: '<your apikey>',
	maxZoom: 19
});
            
            function lineSymbology(feature) {
               var riverName = feature.properties.River_Name;
                var linewidth = 1;
               var lineColor = "#984ea3";

               if (riverName == "Connecticut River") {lineColor = "#377eb8"; lineWidth = 3;}
            
           return {
               color: lineColor,
               opacity: 1
               };
           }
               
            function initialize() {
                var map = L.map('map', {
                    center: [43.7022, -72.2896], 
                    zoom: 9, 
                
                        });

		    var baseMaps = {"OSM" : OpenStreetMap_HOT, 
				    "API" : MapTilesAPI_OSMEnglish
				   }

		    L.control.layers(baseMaps).addTo(map);


                //L.geoJson(supportinglandscape_geojson,
                      //    { color: "green",
                //    weight: 5,
                //    opacity: .5, 
                //    onEachFeature: function(feature, layer) {layer.bindPopup("<b>Land Type: " + feature.properties.Type + "</b>");
                 //                                           }
                 //      }).addTo(map);

               riverLayer = L.geoJson(coastalrest_geojson,
                      { style: lineSymbology,
                    
                    onEachFeature: function(feature, layer) 
                    {layer.bindPopup("<b>Project: " + feature.properties.River_Name + "</b><br>" + 
                                     "Length in Miles: " + feature.properties.LENGTH_MI + "<br>" + "Area: " + feature.properties.Class);
                                                            }
                      });

                $("#toggleRiver").click( function() {
                    if (riverVisible) {
                        riverVisible = false;
                        riverLayer.removeFrom(map);
                    } else {
                        riverVisible = true;
                        riverLayer.addTo(map);
                    }
                })
        

                
                }
        </script>
    </head>
    <body onload="initialize()">
      <h1>New Hampshire Rivers</h1>
      <div id="map"></div>
        <div id="buttons">
            <button id="toggleRiver">Toggle the River Layer.</button>
        </div>
    </body>
</html>
