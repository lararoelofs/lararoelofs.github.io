<!DOCTYPE html>
<html>
    <head>
        <title>New England Invasives</title>
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

 	<link rel="stylesheet" href= "finalprojectstyle.css">
        <style>
            #map {height: 800px; width: 100%px; margin: 35px}
            html, body {height: 100%; margin: 0; padding: 0;}
            #buttons {background-color: white;
			color: black;
 			border: 5px solid #665645;
  			padding: 15px 32px;
 			text-align: center;
 			ext-decoration: none;
 			display: inline-block;
 			font-size: 16px;
		      	margin: 35px;
		     }
		
        </style>
	    
 
	    
<body onload="initialize()">

	<div class = "title">
            <div class = "titletext">
                 <span class = "border">
			
			 Invasive Species of Vermont 
        
                  </span>
            </div>
        </div>
	
      <h1>Vermont Invasive Species Map</h1>
      <div id="map"></div>
        <div id="buttons">
            <button id="toggleinvasive">Click to see Vermont Invasives :( </button>
        </div>
	<div id="buttons">
            <button id="togglebiohotspot">Click to show Biological Hotspots </button>
        </div>
	
</body>

<script src="Vermont_Highest_Priority_Interior_Forest_Blocks.geojson"></script>
<script src="VT_Biodiversity_Project_-_Biological_Hotspots.geojson"></script>
<script src="Invasive_Species.geojson"></script>
        
<script>
        var invasiveLayer; 
		var invasiveVisible = false; 

	var biohotspotLayer;
		var biohotspotVisible = false;
            
        var OpenStreetMap_HOT = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png',
            { maxZoom: 19, 
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, Tiles courtesy of <a href = "http://hot.osm.org"> HOT OSM</a>'
                     })
            
        var Esri_WorldImagery = new L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
	attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
});
            
          ///  function pointSymbology(feature) {
            ///   var invasiveName = feature.properties.River_Name;
            ///    var linewidth = 1;
            ///   var lineColor = "#984ea3";

          ///     if (riverName == "Connecticut River") {lineColor = "#377eb8"; lineWidth = 3;}
            
         ///  return {
         ///      color: pointColor,
         //      opacity: 1
         //      };
      //    }
               
	function initialize() {
                var map = L.map('map', {
                    center: [43.7022, -72.2896], 
                    zoom: 9, 
		   layers: [OpenStreetMap_HOT]
                
                        });

		    var baseMaps = {"OSM" : OpenStreetMap_HOT, 
				    "ESRI" : Esri_WorldImagery
				   }

		    L.control.layers(baseMaps).addTo(map);


           
		invasiveLayer = L.geoJson(invasives_geojson, {
			  pointToLayer: function(feature, latlng) {
				 var geojsonMarkerOptions = {
  					radius: 8,
    					fillColor: "#ff7800",
    					color: "#000",
    					weight: 1,
   					opacity: 1,
    					fillOpacity: 0.8
					};
				  
			 if (feature.properties.InvasiveName === "Emerald Ash Borer") {
               		 geojsonMarkerOptions.fillColor = "#D7EE1B";
			 }
			      
      			  return L.circleMarker(latlng, geojsonMarkerOptions);
   			 	
			  },
			
		    onEachFeature: function(feature, layer) 
			    {layer.bindPopup("<b>Invasive Species: " + feature.properties.InvasiveName + "</b><br>" 
					// + "Plant Description: " + feature.properties.PlantDescription + "<br>" 
					+ "Observation Date: " + feature.properties.ObservationDate + "<br>"
					//+ "Treatment Type: " + feature.properties.TreatmentType + "<br>" 
					//+ "Treatment Effectiveness: " + feature.properties.TreatmentEffectiveness
					     );
                                	}
		});

		

                $("#toggleinvasive").click( function() {
                    if (invasiveVisible) {
                        invasiveVisible = false;
                        invasiveLayer.removeFrom(map);
                    } else {
                        invasiveVisible = true;
                        invasiveLayer.addTo(map);
                    }
                })


		

	biohotspotLayer = L.geoJson(biohotspots_geojson, {
		    onEachFeature: function(feature, layer) 
			    {layer.bindPopup("<b>Biological Hotspot</b>"
					     );
                                	}
		});

		

                $("#togglebiohotspot").click( function() {
                    if (biohotspotVisible) {
                        biohotspotVisible = false;
                        biohotspotLayer.removeFrom(map);
                    } else {
                        biohotspotVisible = true;
                        biohotspotLayer.addTo(map);
                    }
                })

		
	 }


	
        </script>
    </head>
    
</html>
