<!DOCTYPE html>
<html>
    <head>
        <title>New England Invasives</title>
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

 	<link rel="stylesheet" href= "finalprojectstyle.css">
        <style>
            #map {height: 800px; width: 100%px; margin: 35px 35px 0px 35px}
            html, body {height: 100%; margin: 0; padding: 0;}
            #buttons {background-color: white;
			color: black;
 			border: 5px solid #665645;
  			padding: 10px 10px;
 			text-align: center;
 			ext-decoration: none;
 			display: inline-block;

 			font-size: 16px;
		      	margin: 35px;
		     }
		
        </style>
	    
 
	    
<body onload="initialize()">

	<div class = "title">
            <div class = "titletext">
                 <span class = "border">
			
			 Invasive Species of Vermont 
        
                  </span>
            </div>
        </div>

	<br>
	<div><img src= "Screen Shot 2023-08-21 at 1.04.19 PM.jpeg" class="invimg" ></div>
	
	<h1>Vermont Invasive Species Map</h1>
	<div class="invasivemap">
		<br>
     		<div id="map"></div>
       		<div id="buttons">
          		  <button id="toggleinvasive">Click to see Vermont Invasives :( </button>
       		</div>
		<div id="buttons">
         	   <button id="togglebiohotspot">Click to show Biological Hotspots </button>
       		</div>
		<br>
	</div>

<br>

<div class = "container">
	<div><img src= "IMG_1422.jpeg" class="eabimg"></div>
	<div id="campuseabtext"> Have you seen these signs before? This picture was taken on Dartmouth's campus! Tree's can be protected against Emerald Ash Borer. 
	</div>	
</div>


<h1>Emerald Ash Borer High Risk Areas</h1>
	
<div id="eabmap">
<style>.embed-container {position: relative; padding-bottom: 67%; height: 0; max-width: 100%;} .embed-container iframe, .embed-container object, .embed-container iframe{position: absolute; top: 0; left: 0; width: 100%; height: 100%;} small{position: absolute; z-index: 40; bottom: 0; margin-bottom: -15px;}</style><div class="embed-container"><iframe width="300" height="200" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" title="VT" src="//dartmouth.maps.arcgis.com/apps/Embed/index.html?webmap=e0d7a58c5359490192986aadb82a50b6&extent=-75.492,42.5344,-69.4275,45.199&zoom=true&previewImage=false&scale=true&legend=true&disable_scroll=false&theme=dark"></iframe></div>

</div>

<div class = "invasivemap">
<br>
<h4>References</h4>

	<div id="ref"> All data came from <a href="https://geodata.vermont.gov/">the Vermont Open Geodata Portal.</a> 

		<ul>
		  <li><a href="https://geodata.vermont.gov/datasets/VCGI::vt-biodiversity-project-biological-hotspots/about">Biological Hotspot GeoJson Data</a></li>
		  <li><a href="https://geodata.vermont.gov/datasets/VTANR::invasive-species/about">Invasive Species GeoJson Data</a></li>
		  <li><a href="https://anrgeodata.vermont.gov/maps/VTANR::vermont-emerald-ash-borer-risk-areas/about">Data for EAB Risk Area ArcGIS Web Map</a></li>
		</ul>

		Images:
	
	</div>
	
</div>
	
</body>

<script src="Vermont_Highest_Priority_Interior_Forest_Blocks.geojson"></script>
<script src="VT_Biodiversity_Project_-_Biological_Hotspots.geojson"></script>
<script src="Invasive_Species.geojson"></script>
        
<script>
        var invasiveLayer; 
		var invasiveVisible = false; 

	var biohotspotLayer;
		var biohotspotVisible = false;
            
        var OpenStreetMap_HOT = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png',
            { maxZoom: 19, 
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, Tiles courtesy of <a href = "http://hot.osm.org"> HOT OSM</a>'
                     })
            
        var Esri_WorldImagery = new L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
	attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
});
            
          ///  function pointSymbology(feature) {
            ///   var invasiveName = feature.properties.River_Name;
            ///    var linewidth = 1;
            ///   var lineColor = "#984ea3";

          ///     if (riverName == "Connecticut River") {lineColor = "#377eb8"; lineWidth = 3;}
            
         ///  return {
         ///      color: pointColor,
         //      opacity: 1
         //      };
      //    }
               
	function initialize() {
                var map = L.map('map', {
                    center: [43.7022, -72.2896], 
                    zoom: 9, 
		   layers: [OpenStreetMap_HOT]
                
                        });

		    var baseMaps = {"OSM" : OpenStreetMap_HOT, 
				    "ESRI" : Esri_WorldImagery
				   }

		    L.control.layers(baseMaps).addTo(map);


           
		invasiveLayer = L.geoJson(invasives_geojson, {
			  pointToLayer: function(feature, latlng) {
				 var geojsonMarkerOptions = {
  					radius: 8,
    					fillColor: "#ff7800",
    					color: "#000",
    					weight: 1,
   					opacity: 1,
    					fillOpacity: 0.8
					};
				  
			 if (feature.properties.InvasiveName === "Emerald Ash Borer") {
               		 geojsonMarkerOptions.fillColor = "#D7EE1B";
			 }
			      
      			  return L.circleMarker(latlng, geojsonMarkerOptions);
   			 	
			  },
			
		    onEachFeature: function(feature, layer) 
			    {layer.bindPopup("<b>Invasive Species: " + feature.properties.InvasiveName + "</b><br>" 
					// + "Plant Description: " + feature.properties.PlantDescription + "<br>" 
					+ "Observation Date: " + feature.properties.ObservationDate + "<br>"
					//+ "Treatment Type: " + feature.properties.TreatmentType + "<br>" 
					//+ "Treatment Effectiveness: " + feature.properties.TreatmentEffectiveness
					     );
                                	}
		});

		

                $("#toggleinvasive").click( function() {
                    if (invasiveVisible) {
                        invasiveVisible = false;
                        invasiveLayer.removeFrom(map);
                    } else {
                        invasiveVisible = true;
                        invasiveLayer.addTo(map);
                    }
                })


		

	biohotspotLayer = L.geoJson(biohotspots_geojson, {
		    onEachFeature: function(feature, layer) 
			    {layer.bindPopup("<b>Biological Hotspot</b>"
					     );
                                	}
		});

		

                $("#togglebiohotspot").click( function() {
                    if (biohotspotVisible) {
                        biohotspotVisible = false;
                        biohotspotLayer.removeFrom(map);
                    } else {
                        biohotspotVisible = true;
                        biohotspotLayer.addTo(map);
                    }
                })

		
	 }


	
        </script>
    </head>
    
</html>
